import { Meta } from "@storybook/addon-docs";

import storage_key_img from "assets/img/storage_key.jpg";

<Meta title="规约/命名规则" />

# 命名规则

### 变量声明非特殊情况不要使用 var，使用 let 或 const

[let 和 const 命令](https://es6.ruanyifeng.com/#docs/let)

```ts
// bad
var x = 1;
var y = "";

// good
const x = 1;
let y = "";
```

### 文件夹名全小写，单词之间用连字符连接

```ts
// bad
文件夹名: Xxxx, xx-Yyy, Xxx-yy,

// good
文件夹名: xxxx, xx-yyy, xxx-yy-zz,
```

### 临时文件/文件夹，统一使用下划线"\_"作为前缀

```ts
// bad
临时文件/文件夹: xxxx, yyyy.ts, Zzz.tsx

// good
临时文件/文件夹: _xxxx, _yyyy.ts, _Zzz.tsx
```

### 非组件文件不要使用 jsx/tsx 作为文件后缀名

```ts
// bad
// xxx.tsx(内部没有组件代码)
const xxxFunc = () => {};

// good
// xxx.ts
const xxxFunc = () => {};
```

### 组件(Class/函数)命名使用大驼峰

```tsx
// bad
// demoClass.ts;
class demoClass {}
// demoComponent.tsx
const demoComponent = () => <div />;

// good
// DemoClass.ts;
class DemoClass {}
// DemoComponent.tsx
const DemoComponent = () => <div />;
```

### TS interface 和 type 命名使用大驼峰

```ts
// bad
interface requestData {}
type responseData = {};

// good
interface RequestData {}
type ResponseData = {};
```

### 变量,函数命名使用小驼峰

```ts
// bad
const DemoArg = 123;
const DemoList = [];
const DemoObject = {};

function UseHooks() {}
const OnClick = () => {};

// good
const demoArg = 123;
const demoList = [];
const demoObject = {};

function useHooks() {}
const onClick = () => {};
```

### 常量名全大写，单词间使用下划线"\_"拼接

```ts
// bad
const severConfig = {
  url: "https//xx",
  path1: "xxxx",
  path2: "xxxx",
};

// good
const SEVER_CONFIG = {
  URL: "https//xx",
  PATH1: "xxxx",
  PATH2: "xxxx",
};
```

### Storge Key(Local Session Cookie...)

### [模块名/页面名+变量名]全小写 单词间使用下划线"\_"拼接

```ts
// bad
RTG_LIST_CACHE_STORE_KEY: 'restaruant-list-store',

// good
RTG_LIST_CACHE_STORE_KEY: 'rtg_list_scroll',
```

<img src={storage_key_img} />

### 尽量多地添加有效注释

```tsx
// bad
/**
 * 时间戳转字符串
 */
export const formatTimeDisplay = (startTime?: number, endTime?: number) => {
  if (!startTime || !endTime) {
    return PLACE_HOLDER;
  }

  const displayText = `${dayjs
    .tz(dayjs.unix(startTime), TIMEZONE)
    .format("MM/DD/YYYY HH:mm")} PST - ${dayjs
    .tz(dayjs.unix(endTime), TIMEZONE)
    .format("MM/DD/YYYY HH:mm")} PST`;
  return displayText;
};

// good
/**
 * 时间戳转[开始时间 PST - 结束时间 PST] PST(MM/DD/YYYY HH:mm)字符串
 * @param startTime
 * @param endTime
 * @returns 'startTime PST - endTime PST' (MM/DD/YYYY HH:mm)
 */
export const formatTimeDisplay = (startTime?: number, endTime?: number) => {
  if (!startTime || !endTime) {
    return PLACE_HOLDER;
  }

  const displayText = `${dayjs
    .tz(dayjs.unix(startTime), TIMEZONE)
    .format("MM/DD/YYYY HH:mm")} PST - ${dayjs
    .tz(dayjs.unix(endTime), TIMEZONE)
    .format("MM/DD/YYYY HH:mm")} PST`;
  return displayText;
};
```

### TS 声明使用文档注释

```tsx
// bad
import { FC } from "react";

type DemoProps = {
  data: {};
  title: string;
  onClick: () => void;
};

const doSomething = () => {};

const Demo: FC<DemoProps> = ({ data, title, onClick }) => {
  return <div />;
};

// good
import { FC } from "react";

type DemoProps = {
  /** xxx data */
  data: {};
  /** xxx title */
  title: string;
  /** xxx onClick */
  onClick: () => void;
};

/**
 * doSomething...
 * @param a a is xxx
 * @param b b is xxx
 */
const doSomething = (a: number, b: string) => {
  // doSomething
};

/**
 * Demo is xxx
 */
const Demo: FC<DemoProps> = ({ data, title, onClick }) => {
  return <div />;
};
```
